/**
 * Date:Sun Nov 27 2016 17:17:12 GMT+0800 (中国标准时间)
 */
define(function(require,exports,module){function i(i){this.opts=i||{},this.options=$.extend({},s,this.opts),this.init()}var t='<div class="dialog-mask"></div>',o='<div class="dialog"><div class="dialog-head layout-box"><span class="dialog-title box-cols">{title}</span><a class="dialog-close" title="关闭" href="javascript:;">X</a></div><div class="dialog-body clearfix layout-box">{bodyHtml}</div><div class="dialog-btn layout-box {isShow}"><div class="box-cols dialog-btn-left-div"><a href="javascript:;" class="dialog-btn-left">{btnLeft}</a></div><div class="box-cols dialog-btn-right-div"><a href="javascript:;" class="dialog-btn-right">{btnRight}</a></div></div>',s={title:"默认标题",closeBtn:!1,mask:!0,bodyHtml:"这里是中文",btnLeft:"左边按钮",btnRight:"右边按钮",isMaskClickClose:!1,isAutoClose:0};i.prototype={init:function(){this.creatElem(),this.bindEvent()},creatElem:function(){var i="",s=$(".dialog"),l=$("body");s.length&&s.remove(),i=o.replace(/{title}/,this.options.title).replace(/{bodyHtml}/,this.options.bodyHtml).replace(/{btnLeft}/,this.options.btnLeft).replace(/{btnRight}/,this.options.btnRight),l.append(i),this.options.mask&&l.append(t),this.options.closeBtn&&$(".dialog-close").show(),""==this.options.btnLeft&&$(".dialog-btn-left-div").hide(),""==this.options.btnRight&&$(".dialog-btn-right-div").hide(),this.dialog=$(".dialog"),this.options.height&&this.dialog.css("height",this.options.height),this.options.isAutoClose&&this.autoClose()},setPosition:function(){var i=parseInt(this.dialog.width(),10),t=parseInt(this.dialog.height(),10);this.dialog.css({marginLeft:-i/2,marginTop:-t/2})},bindEvent:function(){var i=this;$(".dialog-mask").on("click",function(t){i.options.isMaskClickClose&&i.close()}),this.dialog.on("click",".dialog-close",function(){i.close()}).on("click",".dialog-btn-left-div",function(){i.close(),i.options.gotoIndexCallBack&&i.options.gotoIndexCallBack()}).on("click",".dialog-btn-right-div",function(){i.close(),i.options.gotoDetailCallBack&&i.options.gotoDetailCallBack()})},close:function(){this.dialog.remove(),$(".dialog-mask").remove()},autoClose:function(){var i=this,t=parseInt(this.options.isAutoClose,10);setTimeout(function(){i.close()},t)},show:function(){this.dialog.show()}},module.exports=i});